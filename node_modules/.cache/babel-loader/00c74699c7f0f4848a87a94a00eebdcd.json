{"ast":null,"code":"import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Typography } from '@mui/material';\nimport { useReferenceOneFieldController, useRecordContext, ResourceContextProvider, useCreatePath, useTranslate } from 'ra-core';\nimport { fieldPropTypes } from './types';\nimport { ReferenceFieldView } from './ReferenceField';\n/**\n * Render the related record in a one-to-one relationship\n *\n * Expects a single field as child\n *\n * @example // display the bio of the current author\n * <ReferenceOneField reference=\"bios\" target=\"author_id\">\n *     <TextField source=\"body\" />\n * </ReferenceOneField>\n */\nexport var ReferenceOneField = function (props) {\n  var children = props.children,\n    reference = props.reference,\n    source = props.source,\n    target = props.target,\n    emptyText = props.emptyText,\n    sort = props.sort,\n    filter = props.filter,\n    _a = props.link,\n    link = _a === void 0 ? false : _a;\n  var record = useRecordContext(props);\n  var createPath = useCreatePath();\n  var translate = useTranslate();\n  var _b = useReferenceOneFieldController({\n      record: record,\n      reference: reference,\n      source: source,\n      target: target,\n      sort: sort,\n      filter: filter\n    }),\n    isLoading = _b.isLoading,\n    isFetching = _b.isFetching,\n    referenceRecord = _b.referenceRecord,\n    error = _b.error,\n    refetch = _b.refetch;\n  var resourceLinkPath = link === false ? false : createPath({\n    resource: reference,\n    id: referenceRecord === null || referenceRecord === void 0 ? void 0 : referenceRecord.id,\n    type: typeof link === 'function' ? link(record, reference) : link\n  });\n  return !record || !isLoading && referenceRecord == null ? emptyText ? React.createElement(Typography, {\n    component: \"span\",\n    variant: \"body2\"\n  }, emptyText && translate(emptyText, {\n    _: emptyText\n  })) : null : React.createElement(ResourceContextProvider, {\n    value: reference\n  }, React.createElement(ReferenceFieldView, {\n    isLoading: isLoading,\n    isFetching: isFetching,\n    referenceRecord: referenceRecord,\n    resourceLinkPath: resourceLinkPath,\n    reference: reference,\n    refetch: refetch,\n    error: error\n  }, children));\n};\nReferenceOneField.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  label: fieldPropTypes.label,\n  record: PropTypes.any,\n  reference: PropTypes.string.isRequired,\n  source: PropTypes.string.isRequired,\n  target: PropTypes.string.isRequired\n};\nReferenceOneField.defaultProps = {\n  source: 'id'\n};","map":{"version":3,"mappings":"AAAA,OAAOA,KAAoB,MAAM,OAAO;AACxC,OAAOC,SAAS,MAAM,YAAY;AAClC,SAASC,UAAU,QAAQ,eAAe;AAC1C,SACIC,8BAA8B,EAC9BC,gBAAgB,EAChBC,uBAAuB,EAEvBC,aAAa,EACbC,YAAY,QAET,SAAS;AAEhB,SAA2BC,cAAc,QAA4B,SAAS;AAC9E,SAASC,kBAAkB,QAAQ,kBAAkB;AAErD;;;;;;;;;;AAUA,OAAO,IAAMC,iBAAiB,GAAG,UAACC,KAA6B;EAEvD,YAAQ,GAQRA,KAAK,SARG;IACRC,SAAS,GAOTD,KAAK,UAPI;IACTE,MAAM,GAMNF,KAAK,OANC;IACNG,MAAM,GAKNH,KAAK,OALC;IACNI,SAAS,GAITJ,KAAK,UAJI;IACTK,IAAI,GAGJL,KAAK,KAHD;IACJM,MAAM,GAENN,KAAK,OAFC;IACNO,KACAP,KAAK,KADO;IAAZQ,IAAI,mBAAG,KAAK;EAEhB,IAAMC,MAAM,GAAGhB,gBAAgB,CAACO,KAAK,CAAC;EACtC,IAAMU,UAAU,GAAGf,aAAa,EAAE;EAClC,IAAMgB,SAAS,GAAGf,YAAY,EAAE;EAE1B,SAMFJ,8BAA8B,CAAC;MAC/BiB,MAAM;MACNR,SAAS;MACTC,MAAM;MACNC,MAAM;MACNE,IAAI;MACJC,MAAM;KACT,CAAC;IAZEM,SAAS;IACTC,UAAU;IACVC,eAAe;IACfC,KAAK;IACLC,OAAO,aAQT;EAEF,IAAMC,gBAAgB,GAClBT,IAAI,KAAK,KAAK,GACR,KAAK,GACLE,UAAU,CAAC;IACPQ,QAAQ,EAAEjB,SAAS;IACnBkB,EAAE,EAAEL,eAAe,aAAfA,eAAe,uBAAfA,eAAe,CAAEK,EAAE;IACvBC,IAAI,EACA,OAAOZ,IAAI,KAAK,UAAU,GACpBA,IAAI,CAACC,MAAM,EAAER,SAAS,CAAC,GACvBO;GACb,CAAC;EAEZ,OAAO,CAACC,MAAM,IAAK,CAACG,SAAS,IAAIE,eAAe,IAAI,IAAK,GACrDV,SAAS,GACLf,oBAACE,UAAU;IAAC8B,SAAS,EAAC,MAAM;IAACC,OAAO,EAAC;EAAO,GACvClB,SAAS,IAAIO,SAAS,CAACP,SAAS,EAAE;IAAEmB,CAAC,EAAEnB;EAAS,CAAE,CAAC,CAC3C,GACb,IAAI,GAERf,oBAACK,uBAAuB;IAAC8B,KAAK,EAAEvB;EAAS,GACrCZ,oBAACS,kBAAkB;IACfc,SAAS,EAAEA,SAAS;IACpBC,UAAU,EAAEA,UAAU;IACtBC,eAAe,EAAEA,eAAe;IAChCG,gBAAgB,EAAEA,gBAAgB;IAClChB,SAAS,EAAEA,SAAS;IACpBe,OAAO,EAAEA,OAAO;IAChBD,KAAK,EAAEA;EAAK,GAEXU,QAAQ,CACQ,CAE5B;AACL,CAAC;AAaD1B,iBAAiB,CAAC2B,SAAS,GAAG;EAC1BD,QAAQ,EAAEnC,SAAS,CAACqC,IAAI;EACxBC,SAAS,EAAEtC,SAAS,CAACuC,MAAM;EAC3BC,KAAK,EAAEjC,cAAc,CAACiC,KAAK;EAC3BrB,MAAM,EAAEnB,SAAS,CAACyC,GAAG;EACrB9B,SAAS,EAAEX,SAAS,CAACuC,MAAM,CAACG,UAAU;EACtC9B,MAAM,EAAEZ,SAAS,CAACuC,MAAM,CAACG,UAAU;EACnC7B,MAAM,EAAEb,SAAS,CAACuC,MAAM,CAACG;CAC5B;AAEDjC,iBAAiB,CAACkC,YAAY,GAAG;EAC7B/B,MAAM,EAAE;CACX","names":["React","PropTypes","Typography","useReferenceOneFieldController","useRecordContext","ResourceContextProvider","useCreatePath","useTranslate","fieldPropTypes","ReferenceFieldView","ReferenceOneField","props","reference","source","target","emptyText","sort","filter","_a","link","record","createPath","translate","isLoading","isFetching","referenceRecord","error","refetch","resourceLinkPath","resource","id","type","component","variant","_","value","children","propTypes","node","className","string","label","any","isRequired","defaultProps"],"sources":["/Users/jjun/design_system/node_modules/ra-ui-materialui/src/field/ReferenceOneField.tsx"],"sourcesContent":["import React, { ReactNode } from 'react';\nimport PropTypes from 'prop-types';\nimport { Typography } from '@mui/material';\nimport {\n    useReferenceOneFieldController,\n    useRecordContext,\n    ResourceContextProvider,\n    LinkToType,\n    useCreatePath,\n    useTranslate,\n    SortPayload,\n} from 'ra-core';\n\nimport { PublicFieldProps, fieldPropTypes, InjectedFieldProps } from './types';\nimport { ReferenceFieldView } from './ReferenceField';\n\n/**\n * Render the related record in a one-to-one relationship\n *\n * Expects a single field as child\n *\n * @example // display the bio of the current author\n * <ReferenceOneField reference=\"bios\" target=\"author_id\">\n *     <TextField source=\"body\" />\n * </ReferenceOneField>\n */\nexport const ReferenceOneField = (props: ReferenceOneFieldProps) => {\n    const {\n        children,\n        reference,\n        source,\n        target,\n        emptyText,\n        sort,\n        filter,\n        link = false,\n    } = props;\n    const record = useRecordContext(props);\n    const createPath = useCreatePath();\n    const translate = useTranslate();\n\n    const {\n        isLoading,\n        isFetching,\n        referenceRecord,\n        error,\n        refetch,\n    } = useReferenceOneFieldController({\n        record,\n        reference,\n        source,\n        target,\n        sort,\n        filter,\n    });\n\n    const resourceLinkPath =\n        link === false\n            ? false\n            : createPath({\n                  resource: reference,\n                  id: referenceRecord?.id,\n                  type:\n                      typeof link === 'function'\n                          ? link(record, reference)\n                          : link,\n              });\n\n    return !record || (!isLoading && referenceRecord == null) ? (\n        emptyText ? (\n            <Typography component=\"span\" variant=\"body2\">\n                {emptyText && translate(emptyText, { _: emptyText })}\n            </Typography>\n        ) : null\n    ) : (\n        <ResourceContextProvider value={reference}>\n            <ReferenceFieldView\n                isLoading={isLoading}\n                isFetching={isFetching}\n                referenceRecord={referenceRecord}\n                resourceLinkPath={resourceLinkPath}\n                reference={reference}\n                refetch={refetch}\n                error={error}\n            >\n                {children}\n            </ReferenceFieldView>\n        </ResourceContextProvider>\n    );\n};\n\nexport interface ReferenceOneFieldProps\n    extends PublicFieldProps,\n        InjectedFieldProps {\n    children?: ReactNode;\n    reference: string;\n    target: string;\n    sort?: SortPayload;\n    filter?: any;\n    link?: LinkToType;\n}\n\nReferenceOneField.propTypes = {\n    children: PropTypes.node,\n    className: PropTypes.string,\n    label: fieldPropTypes.label,\n    record: PropTypes.any,\n    reference: PropTypes.string.isRequired,\n    source: PropTypes.string.isRequired,\n    target: PropTypes.string.isRequired,\n};\n\nReferenceOneField.defaultProps = {\n    source: 'id',\n};\n"]},"metadata":{},"sourceType":"module"}